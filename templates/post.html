{% extends "base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}

{% if is_draft %}
  <div class="draft-banner">
    Draft preview — not published
  </div>
{% endif %}

{% if post %}
<article class="post-full">
    <h2>{{ post.title }}</h2>
    <p class="meta">{{ post.author }} - {{ post.published_at.strftime('%d.%m.%Y %H:%M') }}</p>
    <div class="content">
        {{- post.content | trim }}
    </div>
    <div class="post-actions">
        {% if is_draft %}
        <form method="post" action="/post/{{ post.id }}/publish" style="display:inline">
          <button class="btn-publish">Publish</button>
        </form>
        {% endif %}

        <a href="/post/{{post.id}}/edit" class="btn-edit">Edit</a>
        
        <form action="/post/{{ post.id }}/delete" method="post" style="display:inline;">
            <button type="submit" class="btn-delete"
                onclick="return confirm('Are you sure you want to delete this post?')">
                Delete
            </button>
        </form>
    </div>
    <a href="/" class="btn-back">← Back</a>
</article>
{% else %}
<p>Post Not Found</p>
{% endif %}
{% endblock %}
